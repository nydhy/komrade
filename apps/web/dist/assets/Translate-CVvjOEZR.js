import{r as s,j as e}from"./index-D52GenFk.js";import{t as g}from"./ai-tK4wdlQK.js";function b(){const[l,x]=s.useState(""),[r,h]=s.useState('{"goal":"civilian interview"}'),[t,i]=s.useState(null),[c,o]=s.useState(!1),[d,m]=s.useState(null);async function u(a){a.preventDefault(),m(null),o(!0);try{const n=r.trim()?JSON.parse(r):{},p=await g(l,n);i(p)}catch(n){m(n instanceof Error?n.message:"Failed to translate"),i(null)}finally{o(!1)}}return e.jsxs("div",{className:"page-container page-container-narrow",children:[e.jsxs("div",{className:"page-header animate-in",children:[e.jsx("h1",{className:"heading-xl",children:"Translation Layer"}),e.jsx("p",{className:"text-secondary text-lg mt-2",children:"Military-to-civilian response helper."})]}),e.jsxs("form",{className:"card animate-in animate-in-delay-1",onSubmit:u,children:[e.jsxs("div",{className:"input-group mb-4",children:[e.jsx("label",{children:"Message"}),e.jsx("textarea",{className:"textarea",rows:4,value:l,onChange:a=>x(a.target.value),placeholder:"Describe the military experience to translate...",required:!0})]}),e.jsxs("div",{className:"input-group mb-4",children:[e.jsx("label",{children:"Context JSON (optional)"}),e.jsx("textarea",{className:"textarea",rows:3,value:r,onChange:a=>h(a.target.value)})]}),e.jsx("button",{className:"btn btn-primary",disabled:c,type:"submit",children:c?"Translating...":"Translate"})]}),d&&e.jsx("div",{className:"alert alert-danger mt-4",children:d}),t&&e.jsxs("section",{className:"card mt-4 animate-in animate-in-delay-2",children:[e.jsxs("div",{className:"badge mb-2",children:["Safety: ",t.safety_flag]}),e.jsx("h2",{className:"heading-md mb-2",children:"Generic Answer"}),e.jsx("p",{className:"text-secondary mb-4",children:t.generic_answer}),e.jsx("h2",{className:"heading-md mb-2",children:"Empathetic Personalized Answer"}),e.jsx("p",{className:"text-secondary",children:t.empathetic_personalized_answer})]})]})}export{b as default};
